## base64

Base64 是一种基于 64 个可打印字符来表示二进制数据的表示方法。

如果要让记事本这样的文本处理软件能处理二进制数据，就需要一个二进制到字符串的转换方法。Base64 是一种最常见的二进制编码方法。

![索引表](http://img0.tuicool.com/jqyIrej.png!web)

然后，对二进制数据进行处理，每 3 个字节一组（如果字节数不能被 3 整除，则用 0 补位），每个字节是 8 bits，一共是 3 x 8 = 24 bits，划为 4 组，每组正好 6 个 bits。将每组的 6 bits 转为十进制数字，这样我们得到 4 个数字作为索引（3->4，所以经过 base64 编码的图片会比原文件大 1/3，不过一般经过 gzip 压缩后跟原文件大小差不多），然后查表，获得相应的 4 个字符，就是编码后的字符串。

如果是字符串的 base64 编码，具体步骤为：

1. 获取字符串每个字符的 ASCII 码，如果字符数不能被 3 整除，则末尾补 0
2. 将步骤 1 获取的 ASCII 码转为 8 位 二进制码
3. 每 6 bits 为一组，并将 6 位二进制码转为十进制
4. 对照上面的 base64 索引表，得到编码后的字符串

需要注意的是：

1. 要求被编码字符是 8bit 的，所以须在 ASCII 编码范围内，`\u0000-\u00ff`，中文就不行
2. 如果被编码字符长度不是 3 的倍数的时候，则都用 0 代替，对应的输出字符为 =，而不是查表所得的 A（所以通过 base64编码 的图片最后有时会有 1-2 个 =）

[Demo](http://hanzichi.github.io/demo/base64/)

